<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
       <style>
           #buttons{
            position: fixed;
            bottom:0;
            left:0;
            text-align: center;
            width: 100%;
           }
           #buttons>button,.btn{
            display: inline-block;
            width: 120px;
            height: 40px;
            background: #47c255;
            border:0;
            color: #fff;
           }
        #container{
            width: 500px;
            height: 500px;
        }
       </style>
   </head>
   <body style="height: 100%; margin: 0">
         <button class="btn" onClick="javascript:console.log(option,JSON.stringify(option))"  style="background-color: #ccc">打印样式</button>
       <div id="container"></div>
       <div id="buttons">
           <button data-style="1">样式一</button>
           <button data-style="2">样式二</button>
           <button data-style="3">样式三</button>
           <button data-style="4">样式四</button>
           <button data-style="5">样式五</button>
           
       </div>

        <script type="text/javascript" src="echarts.js"></script>
       <script type="text/javascript" src="china.js"></script>
       
       <script type="text/javascript">
        var dom = document.getElementById("container"),

            myChart = echarts.init(dom),

            option,

            buttons=document.getElementById("buttons"),

            curStyle;
    
        function randomValue() {
            return Math.round(Math.random()*1000);
        }

        

        var clickCallBack=function(ev){

            var target={};

            if(ev){

                target=ev.target;

                if(curStyle==target.dataset.style)return

                curStyle=target.dataset.style;

            }else{

                target.dataset={style:"no"};

            }
            
            switch(target.dataset.style){

                case '1':
                    option={
                            tooltip : {
                                trigger: 'axis',
                                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                                }
                            },
                            legend: {
                                data:['直接访问','邮件营销','联盟广告']
                            },
                            grid: {
                                left: '3%',
                                right: '4%',
                                bottom: '3%',
                                containLabel: true
                            },
                            xAxis : [
                                {
                                    type : 'category',
                                    data : ['周一','周二','周三','周四','周五','周六','周日']
                                }
                            ],
                            yAxis : [
                                {
                                    type : 'value'
                                }
                            ],
                            series : [
                                {
                                    name:'直接访问',
                                    type:'bar',
                                    data:[320, 332, 301, 334, 390, 330, 320]
                                },
                                {
                                    name:'邮件营销',
                                    type:'bar',
                                    stack: '广告',
                                    data:[120, 132, 101, 134, 90, 230, 210]
                                },
                                {
                                    name:'联盟广告',
                                    type:'bar',
                                    stack: '广告',
                                    data:[220, 182, 191, 234, 290, 330, 310]
                                },
                                {
                                    name:'视频广告',
                                    type:'bar',
                                    stack: '广告',
                                    data:[150, 232, 201, 154, 190, 330, 410]
                                },
                         
                            ]
                        };
                break;
                case '2':
                    option = {
                        backgroundColor: '#2c343c',

                        title: {
                            text: 'Customized Pie',
                            left: 'center',
                            top: 20,
                            textStyle: {
                                color: '#ccc'
                            }
                        },

                        tooltip : {
                            trigger: 'item',
                            formatter: "{a} <br/>{b} : {c} ({d}%)"
                        },

                        visualMap: {
                            show: false,
                            min: 80,
                            max: 600,
                            inRange: {
                                colorLightness: [0, 1]
                            }
                        },
                        series : [
                            {
                                name:'年龄分布',
                                type:'pie',
                                radius : '55%',
                                center: ['50%', '50%'],
                                data:[
                                    {value:335, name:'1岁'},
                                    {value:310, name:'2岁'},
                                    {value:274, name:'3岁'},
                                    {value:235, name:'4岁'},
                                    {value:400, name:'5岁'}
                                ].sort(function (a, b) { return a.value - b.value}),
                                roseType: 'angle',
                                label: {
                                    normal: {
                                        textStyle: {
                                            color: 'rgba(255, 255, 255, 0.3)'
                                        }
                                    }
                                },
                                labelLine: {
                                    normal: {
                                        lineStyle: {
                                            color: 'rgba(255, 255, 255, 0.3)'
                                        },
                                        smooth: 0.2,
                                        length: 10,
                                        length2: 20
                                    }
                                },
                                itemStyle: {
                                    normal: {
                                        color: '#c23531',
                                        shadowBlur: 200,
                                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                                    }
                                },

                                animationType: 'scale',
                                animationEasing: 'elasticOut',
                                animationDelay: function (idx) {
                                    return Math.random() * 200;
                                }
                            }
                        ]
                    };
                break;
                case '3':
                    option = {
                                title: {
                                    text: '标题1',
                                    subtext: '数据来自网络'
                                },
                                tooltip: {
                                    trigger: 'axis',
                                    axisPointer: {
                                        type: 'shadow'
                                    }
                                },
                                toolbox: {
                                    feature: {
                                        magicType: {
                                            type: ['stack', 'tiled']
                                        },
                                        dataView: {},
                                        saveAsImage: {
                                            pixelRatio: 2
                                        }
                                    }
                                },
                                legend: {
                                    data: ['4000', '5000']
                                },
                                grid: {
                                    left: '3%',
                                    right: '4%',
                                    bottom: '3%',
                                    containLabel: true
                                },
                                xAxis: {
                                    type: 'value',
                                    boundaryGap: [0, 0.01]
                                },
                                yAxis: {
                                    type: 'category',
                                    data: ['周一','周二','周三','周四','周五','周六']
                                },
                                series: [
                                    {
                                        name: 'PV',
                                        type: 'bar',
                                        data: [18203, 23489, 29034, 104970, 131744, 630230]
                                    },
                                    {
                                        name: 'UV',
                                        type: 'bar',
                                        data: [19325, 23438, 31000, 121594, 134141, 681807]
                                    }
                                ]
                            };
                break;
                case '4':
                    option = {
                            title : {
                                text: '某站点用户访问来源',
                                subtext: '纯属虚构',
                                x:'center'
                            },
                            tooltip : {
                                trigger: 'item',
                                formatter: "{a} <br/>{b} : {c} ({d}%)"
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                                data: ['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
                            },
                            series : [
                                {
                                    name: '访问来源',
                                    type: 'pie',
                                    radius : '55%',
                                    center: ['50%', '60%'],
                                    data:[
                                        {value:335, name:'直接访问'},
                                        {value:310, name:'邮件营销'},
                                        {value:234, name:'联盟广告'},
                                        {value:135, name:'视频广告'},
                                        {value:1548, name:'搜索引擎'}
                                    ],
                                    itemStyle: {
                                        emphasis: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                break;
                case '5':
                    option = {
                        tooltip: {},
                        visualMap: {
                            min: 0,
                            max: 1500,
                            left: 'left',
                            top: 'bottom',
                            text: ['高','低'],
                            seriesIndex: [1],
                            inRange: {
                                color: ['#e0ffff', '#006edd']
                            },
                            calculable : true
                        },
                        geo: {
                            map: 'china',
                            roam: true,
                            label: {
                                normal: {
                                    show: true,
                                    textStyle: {
                                        color: 'rgba(0,0,0,0.4)'
                                    }
                                }
                            },
                            itemStyle: {
                                normal:{
                                    borderColor: 'rgba(0, 0, 0, 0.2)'
                                },
                                emphasis:{
                                    areaColor: null,
                                    shadowOffsetX: 0,
                                    shadowOffsetY: 0,
                                    shadowBlur: 20,
                                    borderWidth: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        },
                        series : [
                           {
                               type: 'scatter',
                               coordinateSystem: 'geo',
                               showAllSymbol:false,
                               symbolSize: 20,
                               symbol: '',
                               symbolRotate: 4,
                               label: {
                                   normal: {
                                       formatter: '{b}',
                                       position: 'right',
                                       show: false
                                   },
                                   emphasis: {
                                       show: true
                                   }
                               },
                               itemStyle: {
                                   normal: {
                                        color: '#F06C00'
                                   }
                               }
                            },
                            {
                                name: 'categoryA',
                                type: 'map',
                                geoIndex: 0,
                                // tooltip: {show: false},
                                data:[
                                    {name: '北京', value: randomValue()},
                                    {name: '天津', value: randomValue()},
                                    {name: '上海', value: randomValue()},
                                    {name: '重庆', value: randomValue()},
                                    {name: '河北', value: randomValue()},
                                    {name: '河南', value: randomValue()},
                                    {name: '云南', value: randomValue()},
                                    {name: '辽宁', value: randomValue()},
                                    {name: '黑龙江', value: randomValue()},
                                    {name: '湖南', value: randomValue()},
                                    {name: '安徽', value: randomValue()},
                                    {name: '山东', value: randomValue()},
                                    {name: '新疆', value: randomValue()},
                                    {name: '江苏', value: randomValue()},
                                    {name: '浙江', value: randomValue()},
                                    {name: '江西', value: randomValue()},
                                    {name: '湖北', value: randomValue()},
                                    {name: '广西', value: randomValue()},
                                    {name: '甘肃', value: randomValue()},
                                    {name: '山西', value: randomValue()},
                                    {name: '内蒙古', value: randomValue()},
                                    {name: '陕西', value: randomValue()},
                                    {name: '吉林', value: randomValue()},
                                    {name: '福建', value: randomValue()},
                                    {name: '贵州', value: randomValue()},
                                    {name: '广东', value: randomValue()},
                                    {name: '青海', value: randomValue()},
                                    {name: '西藏', value: randomValue()},
                                    {name: '四川', value: randomValue()},
                                    {name: '宁夏', value: randomValue()},
                                    {name: '海南', value: randomValue()},
                                    {name: '台湾', value: randomValue()},
                                    {name: '香港', value: randomValue()},
                                    {name: '澳门', value: randomValue()}
                                ]
                            }
                        ]
                    };
                break;
                default:
                    option={
                            tooltip : {
                                trigger: 'axis',
                                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                                }
                            },
                            legend: {
                                data:['直接访问','邮件营销','联盟广告']
                            },
                            grid: {
                                left: '3%',
                                right: '4%',
                                bottom: '3%',
                                containLabel: true
                            },
                            xAxis : [
                                {
                                    type : 'category',
                                    data : ['周一','周二','周三','周四','周五','周六','周日']
                                }
                            ],
                            yAxis : [
                                {
                                    type : 'value'
                                }
                            ],
                            series : [
                                {
                                    name:'直接访问',
                                    type:'bar',
                                    data:[320, 332, 301, 334, 390, 330, 320]
                                },
                                {
                                    name:'邮件营销',
                                    type:'bar',
                                    stack: '广告',
                                    data:[120, 132, 101, 134, 90, 230, 210]
                                },
                                {
                                    name:'联盟广告',
                                    type:'bar',
                                    stack: '广告',
                                    data:[220, 182, 191, 234, 290, 330, 310]
                                },
                                {
                                    name:'视频广告',
                                    type:'bar',
                                    stack: '广告',
                                    data:[150, 232, 201, 154, 190, 330, 410]
                                },
                         
                            ]
                        };
                break;

            }

            option.toolbox={
                feature: {
                    magicType: {
                        type: ['stack', 'tiled']
                    },
                    dataView: {},
                    saveAsImage: {
                        pixelRatio: 1,
                        saveCallBack:function(base){

                            console.log(base);
                            
                        }
                    }
                }
            };

            if (option && typeof option === "object") {
                myChart.setOption(option, true);
            }

            //打印base64 图片
            console.log(myChart.getDataURL())

        }

        clickCallBack();

        buttons.addEventListener("click",clickCallBack,true)

       </script>
   </body>
</html>