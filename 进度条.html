<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
#ProgressBar{ width:400px; height:30px; border:1px solid #CCC; position:relative; margin:15px auto; overflow:hidden;}
#ProgressColor{ height:100%; width:100%; text-align:center; color:#FFF; font:24px/36px Arial, Helvetica, sans-serif;clip:rect(0px 0px 40px 0); background-color:#9C6;; position:absolute; left:0; top:0; z-index:2;}
#ProgressText{ width:100%; position:absolute; height:100%; color:#000; top:0; text-align:center; left:0; font:24px/36px Arial, Helvetica, sans-serif;z-index:1;}
</style>
<script>
window.onload=function(){
	var Progress=document.getElementById("ProgressBar");
	var ProgressColor=document.getElementById("ProgressColor");
	var ProgressText=document.getElementById("ProgressText");
	var num=parseInt(GetStyle(Progress,"width"));
	var iNow=0;
	var timer=null;
	
	timer=setInterval(function(){
		if(iNow<100){
			iNow+=5;
			ProgressObj(iNow);
		}else
		{
			clearInterval(timer);
		}
		
	},300);
	function ProgressObj(iNow){
			ProgressColor.style.clip="rect(0px "+iNow/100*num+"px 40px 0)";
			ProgressColor.innerHTML=iNow+"%";
			ProgressText.innerHTML=iNow+"%";
		}
	function GetStyle(obj,attr){
		if(obj.currentStyle){
			return obj.currentStyle[attr];
		}else
		{
			return getComputedStyle(obj,false)[attr];
		}
	}
	}
</script>
</head>

<body>
<div id="ProgressBar">
<div id="ProgressColor">0%</div>
<div id="ProgressText">0%</div>
</div>

</body>
</html>
